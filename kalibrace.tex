\chapter{Kalibrace modelù}

\section{Struènı úvod do simulaèních modelù}

Je známo, e simulace je vhodná monost jak provést experimentální test v porovnání s odlišnımi \rem{návrhy systému}. Daleko lepší moností je pokus provést na modelu v poèítaèi ne na reálném systému a riskovat jeho poškození èi znièení, navíc na nìkterıch reálnıch systémech nelze ani pokus provést. Vısledky tohoto experimentu na poèítaèi mohou poskytnout mnoho uiteènıch informací, na jejich základì je napø. moné zvolit optimální variantu pøi rozhodování. Podle tohoto konceptu je tedy simulaèní model poèítaè, kterı je urèen k øízení pokusù s modelem systému s cílem sestavení platnıch vısledkù i pro reálnı systém. Jinımi slovy simulaèní model se pouívá  k odpovìdi na otázky typu \uv{Co kdy?}.

Simulace je tedy experiment na modelu reálného systému.\cite{Pidd}. Za pøedpokladu, e vıvoj modelu systému v èase vhodnì napodobuje vıvoj reálného systému, mùeme sbírat informace o modelu (napø. promìnné) a posléze pøi pouití statistickım metod èi jiného vhodného matematického aparátu a následnıch dalších experimentù mùeme díky tomu navrhnout i budoucí chování systému. Tato myšlenka je znázornìna na obrázku \ref{aimsunmodel}.

\begin{figure}[h]%
\centering
\includegraphics[width=1\textwidth]{images/model.pdf}%
\caption{Simulaèní model - zdroj:\cite{Aimsun}}%
\label{aimsunmodel}%
\end{figure}

Spolehlivost procesu rozhodování záleí na schopnosti vytvoøit takovı simulaèní model, kterı reprezentuje chování reálného systému s dostaèující pøesností. Reálnı systém potom mùe bıt nahrazen modelem a na modelu je moné provádìt rùzné experimenty. Toto platí pro simulaèní analızu obecnì a zùstává platné i pro dopravní simulace. Proces urèující, zda je simulaèní model dostateènì podobnı reálnému systému, se nazıvá \textbf{validace modelu} - iterativní proces zahrnující \textbf{kalibraci parametrù modelu} a porovnání chování modelu s chováním reálného systému (pokud je to moné). Nesoulady mezi systémem a modelem nutí toho, kdo systém modeluje k zjišování dalších informací o systému. Tyto nesoulady a informace jsou potom pouity k vylepšení modelu. Ten by mìl bıt zlepšován do té doby, kdy je jeho pøesnost akceptována. Validace simulaèního modelu by mìla bıt brána v potaz bìhem celého procesu vytváøení modelu.

\section{Validace modelù}

Hlavní zdroj pro validaci modelù je pouito \cite{Kelton}.

\textbf{Verifikace} je v první øadì rozhodnutí zda simulaèní program vykonává pøesnì to, co bylo zamıšleno, to jest odstranìní chyb z programu. Verifikace tedy kontroluje \uv{pøenesení} simulaèního modelu do správnì fungujícího programu.

\textbf{Validace} modelu je hotova tehdy, pokud simulaèní model je pøesná reprezentace zkoumaného systému. Pokud je model validní, mohou bıt rozhodnutí, která byla provedena na základì simulaèního modelu stejná jako kdyby se provádìl experiment na reálném systému. 

Model je vìrohodnı tehdy, kdy jeho vısledky jsou pøijaty uivatelem a pouity v rozhodovacím procesu.

Verifikace obvykle znamená spuštìní programu s implementovanım simulaèním modelem s rùznım nastavením vstupních parametrù a kontrolou, zda jsou vısledky simulace pøijatelné. V nìkterıch pøípadech je moné nìkteré vıpoèty provádìt analyticky a posléze numerickou simulací vısledky porovnat a tím zjistit pøijatelnost vıstupù.

Pøi validaci simulaèního modelu by analytik nemìl zapomenout, e
\begin{itemize}
	\item simulaèní model je systém, kterı ovšem mùe bıt pouze aproximací reálného systému, bez ohledu na to, kolik práce bylo vloeno do vıvoje modelu,
	\item simulaèní model by mìl bıt vdy vyvíjen pro specifické úèely,
	\item simulaèní model by mšl bıt validován vzhledem k perfomaèním indikátorùm souvisejících s úèely modelu a mohl bıt pouit pro rozhodování
	\item vıvoj a validace modelu by mìly probíhat zároveò bìhem celé analızy systému a vytváøení simulaèního modelu.
\end{itemize} 

Law and Kelton \cite{Kelton} dále navrhli postup, jak vyvinout validní a vìrohodné simulaèní modely. Dìlí se na tøi èásti:
\begin{itemize}
	\item vytvoøení modelu se \uv{zjevnou} validitou\footnote{z anglického face validity},
	\item testování pøedpokladù modelu empiricky,
	\item rozhodnutí, jak moc jsou vıstupní data ze simulace reprezentativní.
\end{itemize}

\subsection{Vytvoøení modelu se zjevnou validitou}

Pokud lidé, kteøí rozumí reálnému systému, potvrdí e simulaèní model vypadá racionálnì, potom mùeme tvrdit e jde o model se zjevnou validitou.

Pro dosaení takového modelu je dle \cite{Kelton} nutné, aby
\begin{itemize}
	\item èlovìk vytváøející novı model by mìl spolupracovat s lidmi, kteøí jsou dùvìrnì obeznámeni s reálnım systémem,
	\item analytik musí bıt dùslednı pøi získávání všech poadovanıch informací,
	\item pokud existují historická data, mìla by bıt získána a pouita pøi tvorbì modelu,
	\item musí se také dávat pozor, aby tato data byla správná a znázoròovala to, co je modelováno.
\end{itemize}

\subsection{Testování pøedpokladù modelu empiricky}

Jestlie je pouito pravdìpodobností rozdìlení jako vstupní parametr simulaèního modelu na základì shody s reálnımi daty, u vıstupu musí bıt tyto okolnosti zohlednìny.

Další vlastnost ovlivòující model je citlivost na poèáteèní podmínky. Pokud se vıstupní data signifikatnì zmìní pouze na základì nepatrné zmìny vstupních parametrù, model potom mùe pùsobit chaoticky.

Tyto dvì podmínky musí bıt pøi vyhodnocení testování také zahrnuty.

\subsection{Rozhodnutí, jak moc jsou vıstupní data ze simulace reprezentativní}

Hlavní test, kterım se posuzuje validita simulaèního modelu, je porovnání vıstupních dat. Pokud se data ze simulaèního modelu porovnají s vıstupními daty a vısledek je pøíznivı, lze model oznaèit za validní. Model ovšem vdy bude pouze aproximace systému a proto pøedstava, e model a systém se rovnají nemùe bıt nikdy pravdivá.
\newline

\begin{figure}[h]%
\centering
\includegraphics[width=1\textwidth]{images/validace.pdf}%
\caption{Vztahy mezi validací, verifikací a dùveryhodností - zdroj:\cite{Aimsun}}%
\label{validace}%
\end{figure}

Pøedcházející sekce je názornì zobrazena na obrázku \ref{validace}. Obdelníky v tomto diagramu znázoròují stavy modelu a jejich vztah k procesu studia simulace. Pøerušované èáry nad obdelníky ukazují, ve kterıch situacích dochází k validaci, verifikaci a dùveryhodnosti. Aèkoliv v obrázku \ref{validace} to není zahrnuto , je dùleité nezapomínat, e celı proces modelování je nutné brát jako iterativní a e nìkteré postupy se mùou opakovat a to nìkolikrát.